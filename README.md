# InterviewTest

Имеется некая база со схемой, в которой хранятся данные плана деятельности:
При помощи приложенного скрипта можно в какой-либо базе данных создать схему с описанной структурой и тестовыми данными. 
Пример создавался на PostgreSQL 10.21.

Данная структура описывает иерархию плана деятельности. В иерархию входят (от верхнего уровня к нижнему) следующие сущности: 
•	Программы (Program),
•	Подпрограммы (SubProgram),
•	Проекты (Project),
•	Контракты (Contract),
•	Контрольные точки (Point). КТ могут относиться (подчиняться непосредственно) как к контрактам, так и к проектам.

Все дерево иерархии хранится в таблице Activity (основные его атрибуты). Дополнительные атрибуты каждой сущности хранятся в таблицах Program, SubProgram, Project, Contract, Point. Привязка таблиц с доп. атрибутами к таблице Activity осуществляется по первичным ключам (один к одному). Привязка сущностей друг к другу осуществляется через поле Activity.ParentId. 
Кроме того, у контрактов есть привязка к территории (Area) через поле Contract.AreaId.
В таблице Activity есть атрибут ActivityTypeId – ссылка на справочник типов сущностей ActivityType.

Требуется создать в той же схеме функцию на языке «SQL» или «PLPGSQL» для получения отсортированного иерархического списка описанных сущностей с включением территории (Area) на 3-й уровень иерархии. В итоге, полная иерархия следующая:
Программа 
	Подпрограмма
		 Проект
			 Контракт
          КТ (проекта)
          
